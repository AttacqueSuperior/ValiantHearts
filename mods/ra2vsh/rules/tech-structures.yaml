caoild:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	Inherits@damagefire: ^BuildingDamageFire3
	Selectable:
		Bounds: 96, 104, -2, -26
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	EngineerRepairable:
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	CashTrickler:
		Interval: 150
		Amount: 20
		RequiresCondition: !ownerless
	Tooltip:
		Name: Tech Oil Derrick
	Health:
		HP: 1000000
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SpySat
		RevealGeneratedShroud: False
		Range: 4c0
	RevealOnDeath:
		Radius: 2c0
		DeathTypes: DefaultDeath
	WithIdleOverlay@pump:
		Sequence: idle-pump
		PauseOnCondition: ownerless
	WithIdleOverlay@flag:
		Sequence: flag
		Offset: 1000,0,0
	GrantPeriodicCondition@initialcash:
		CooldownDuration: 1
		ActiveDuration: 2000000000
		Condition: alreadycaptured
		RequiresCondition: !ownerless
	GivesCashOnCapture:
		Amount: 1000
		RequiresCondition: !alreadycaptured
	GpsDotAS:
		Sequence: oil
	SpawnActorOnDeath:
		Actor: caoild.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire3:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire3-heavy:
		RequiresCondition: dmg_crit
	UpdatesDerrickCount:
	Explodes@derrick:
		Weapon: OilDerrickExplosion
		EmptyWeapon: OilDerrickExplosion
		DeathTypes: DefaultDeath
	TooltipDescription@ally:
		Description: Provides additional funds.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to receive additional funds.
		ValidStances: Neutral, Enemy

caoild.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^2x2Shape
	Tooltip:
		Name: Tech Oil Derrick Wreck
	Building:
		Dimensions: 2,2
		Footprint: == ==
	RenderSprites:
		Image: caoild
	TransformOnCapture:
		IntoActor: caoild
	TooltipDescription:
		Description: Rebuild this wreck to receive additional funds.

caairp:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x3Shape
	Inherits@damagefire: ^BuildingDamageFire2
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Airport
	Health:
		HP: 800000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	WithIdleOverlay@decoration:
	WithIdleOverlay@flag:
		Sequence: flag
	SpawnActorOnDeath:
		Actor: caairp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	ProductionAirdropAS:
		Produces: TechAirport
		ActorType: pdplane.caairp
		Facing: 224
		ReadyAudio: ReinforcementsArrived
	Exit@1:
		ExitCell: 2,1
	RallyPoint:
		Path: 3,1
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	CaptureManager:
		BeingCapturedCondition: being-captured
	PeriodicProducer:
		RequiresCondition: !ownerless && !being-captured
		ResetTraitOnEnable: true
		Type: TechAirport
		Actors: lasher
		ShowSelectionBar: true
	ParatroopersPower:
		OrderName: TechParadropInfoOrder
		Cost: 1000
		Icon: paradrop #TODO
		ChargeInterval: 9000
		Description: Tech Paradrop
		LongDesc: A Cargo Plane drops six Initiates anywhere on the map.
		DropItems: init,init,init,init,init,init
		QuantizedFacings: 8
		UnitType: pdplane
		CameraActor: camera
		ArrowSequence: arrow
		AllowMultiple: true
		RequiresCondition: !ownerless
	SupportPowerChargeBar:
	TooltipDescription@ally:
		Description: Provides paratroopers and additional reinforcements.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to receive paratroopers and additional reinforcements.
		ValidStances: Neutral, Enemy

caairp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Airport Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: caairp
	TransformOnCapture:
		IntoActor: caairp
	TooltipDescription:
		Description: Rebuild this wreck to receive paratroopers and additional reinforcements.

cahosp:
	Inherits: ^TechBuilding
	Inherits@shape: ^6x4Shape
	Inherits@damagefire: ^BuildingDamageFire4
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Building:
		Footprint: xxxx xxxx xxxx xxxx xxxx xxxx
		Dimensions: 6, 4
	Tooltip:
		Name: Tech Hospital
	Health:
		HP: 800000
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SpySat
		RevealGeneratedShroud: False
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
		DeathTypes: DefaultDeath
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	WithIdleOverlay:
		PauseOnCondition: ownerless
	WithIdleOverlay@flag:
		Sequence: flag
		Offset: 0,-500,2520
	GpsDotAS:
		Sequence: hospital
	SpawnActorOnDeath:
		Actor: cahosp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire3:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire3-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire4:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire4-heavy:
		RequiresCondition: dmg_crit
	GrantExternalConditionToOwner@hospital:
		Condition: hospital
		RequiresCondition: !ownerless
	GrantConditionOnPrerequisite@hospital:
		Condition: hospital
		Prerequisites: hospital
	GrantConditionOnPrerequisite@hospital2:
		Condition: hospital
		Prerequisites: hospital2
	GrantConditionOnPrerequisite@hospital3:
		Condition: hospital
		Prerequisites: hospital3
	GrantConditionOnPrerequisite@hospital4:
		Condition: hospital
		Prerequisites: hospital4
	GrantConditionOnPrerequisite@hospital5:
		Condition: hospital
		Prerequisites: hospital5
	WithTextDecoration@hospital:
		RequiresSelection: true
		Text: COUNT: 1
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: hospital == 1
	WithTextDecoration@hospital2:
		RequiresSelection: true
		Text: COUNT: 2
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: hospital == 2
	WithTextDecoration@hospital3:
		RequiresSelection: true
		Text: COUNT: 3
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: hospital == 3
	WithTextDecoration@hospital4:
		RequiresSelection: true
		Text: COUNT: 4
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: hospital == 4
	WithTextDecoration@hospital5:
		RequiresSelection: true
		Text: COUNT: 4+
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: hospital > 4
	TooltipDescription@ally:
		Description: Provides infantry with self-healing.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to enable self-healing for infantry.
		ValidStances: Neutral, Enemy

cahosp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^6x4Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Hospital Wreck
	Building:
		Dimensions: 6,4
		Footprint: ==== ==== ==== ==== ==== ====
	RenderSprites:
		Image: cahosp
	TransformOnCapture:
		IntoActor: cahosp
	TooltipDescription:
		Description: Rebuild this wreck to enable self-healing for infantry.

cathosp:
	Inherits: cahosp
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Tooltip:
		Name: Tech Hospice
	SpawnActorOnDeath:
		Actor: cathosp.rubble
	-WithIdleOverlay@damagefire3:
	-WithIdleOverlay@damagefire3-heavy:
	-WithIdleOverlay@damagefire4:
	-WithIdleOverlay@damagefire4-heavy:

cathosp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Hospice Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: cathosp
		Palette: isotem
	TransformOnCapture:
		IntoActor: cathosp
	TooltipDescription:
		Description: Rebuild this wreck to enable self-healing for infantry.

caoutp:
	Inherits: ^TechBuilding
	Inherits@2: ^VoxelLighting
	Inherits@shape: ^4x3Shape
	Inherits@experience: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@damagefire: ^BuildingDamageFire2
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Selectable:
		Bounds: 178, 180, 0, -38
	Tooltip:
		Name: Tech Outpost
	Health:
		HP: 2000000
	Building:
		Dimensions: 4,3
		Footprint: xx== xx== xx==
	Reservable:
	RallyPoint:
	RepairsUnits:
		Interval: 50
		FinishRepairingNotification: UnitRepaired
		HpPerStep: 10000
		RepairDamageType: KillTerrorDrone
	WithIdleOverlay@tower:
		Sequence: idle-tower
	WithIdleOverlay@tower-shadow:
		Sequence: idle-tower-shadow
	WithIdleOverlay@bib:
		Sequence: bib
	WithIdleOverlay@flag:
		Sequence: flag
	WithResupplyAnimation:
		Sequence: active-crane
	BodyOrientation:
		QuantizedFacings: 32
	WithVoxelTurret:
	WithRangeCircle:
		Range: 12c0
		Type: patriot
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		Offset: 700,-1000,1500
	AttackTurreted:
		Voice:
	Armament:
		Weapon: HoverMissile
		LocalOffset: 500,0,900
	SpawnActorOnDeath:
		Actor: caoutp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	TooltipDescription@ally:
		Description: Provides and defends buildable area. Can repair vehicles for a cost.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to gain and defend this buildable area.
		ValidStances: Neutral, Enemy

caoutp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^4x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Outpost Wreck
	Building:
		Dimensions: 4,3
		Footprint: ==== ==== ====
	RenderSprites:
		Image: caoutp
		Palette: isosnow
	TransformOnCapture:
		IntoActor: caoutp
	TooltipDescription:
		Description: Rebuild this wreck to gain and defend this buildable area.

caslab:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x3Shape
	Inherits@damagefire: ^BuildingDamageFire1
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Secret Lab
	Health:
		HP: 800000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	WithIdleOverlay@flag:
		Sequence: flag
	SpawnActorOnDeath:
		Actor: caslab.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	ProductionParadropAS:
		Produces: SecretLab
		RequiresCondition: !disabled
		ActorType: pdplane.secretlab
		ReadyAudio: ReinforcementsArrived
		ChuteSound: sparadra.wav
	Exit:
	GrantRandomConditionOnDelivery:
		Conditions: beholder, overlord, malfestor, howitzer, mammoth
	PeriodicProducer@Beholder:
		Type: SecretLab
		Actors: behold
		ChargeDuration: 3000
		ShowSelectionBar: true
		RequiresCondition: beholder && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Beholder:
		Text: BEHOLDER
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: beholder && !ownerless
	PeriodicProducer@Overlord:
		Type: SecretLab
		Actors: ovrl
		ChargeDuration: 3500
		ShowSelectionBar: true
		RequiresCondition: overlord && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Overlord:
		Text: OVERLORD TANK
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: overlord && !ownerless
	PeriodicProducer@Malfestor:
		Type: SecretLab
		Actors: malf
		ChargeDuration: 3200
		ShowSelectionBar: true
		RequiresCondition: malfestor && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Malfestor:
		Text: MALFESTOR
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: malfestor && !ownerless
	PeriodicProducer@Howitzer:
		Type: SecretLab
		Actors: howi
		ChargeDuration: 2200
		ShowSelectionBar: true
		RequiresCondition: howitzer && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Howitzer:
		Text: HOWITZER
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: howitzer && !ownerless
	PeriodicProducer@Mammoth:
		Type: SecretLab
		Actors: 4tnk
		ChargeDuration: 3500
		ShowSelectionBar: true
		RequiresCondition: mammoth && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Mammoth:
		Text: MAMMOTH TANK
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: mammoth && !ownerless
	TooltipDescription@ally:
		Description: Periodically provides hidden units.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to periodically receive hidden units.
		ValidStances: Neutral, Enemy

caslab.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Secret Lab Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: caslab
		Palette: isotem
	TransformOnCapture:
		IntoActor: caslab
	TooltipDescription:
		Description: Rebuild this wreck to periodically receive hidden units.

camach:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x3Shape
	Inherits@damagefire: ^BuildingDamageFire2
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Selectable:
		Bounds: 160, 140, -5, -30
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Tooltip:
		Name: Tech Machine Shop
	Health:
		HP: 800000
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SpySat
		RevealGeneratedShroud: False
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
		DeathTypes: DefaultDeath
	WithIdleOverlay@flag:
		Sequence: flag
	SpawnActorOnDeath:
		Actor: camach.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	GrantExternalConditionToOwner@machineshop:
		Condition: machineshop
		RequiresCondition: !ownerless
	GrantConditionOnPrerequisite@machineshop:
		Condition: machineshop
		Prerequisites: machineshop
	GrantConditionOnPrerequisite@machineshop2:
		Condition: machineshop
		Prerequisites: machineshop2
	GrantConditionOnPrerequisite@machineshop3:
		Condition: machineshop
		Prerequisites: machineshop3
	GrantConditionOnPrerequisite@machineshop4:
		Condition: machineshop
		Prerequisites: machineshop4
	GrantConditionOnPrerequisite@machineshop5:
		Condition: machineshop
		Prerequisites: machineshop5
	WithTextDecoration@machineshop:
		RequiresSelection: true
		Text: COUNT: 1
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: machineshop == 1
	WithTextDecoration@machineshop2:
		RequiresSelection: true
		Text: COUNT: 2
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: machineshop == 2
	WithTextDecoration@machineshop3:
		RequiresSelection: true
		Text: COUNT: 3
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: machineshop == 3
	WithTextDecoration@machineshop4:
		RequiresSelection: true
		Text: COUNT: 4
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: machineshop == 4
	WithTextDecoration@machineshop5:
		RequiresSelection: true
		Text: COUNT: 4+
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: machineshop > 4
	TooltipDescription@ally:
		Description: Provides mechanical units with self-healing.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to enable self-healing for mechanical units.
		ValidStances: Neutral, Enemy

camach.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Machine Shop Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: camach
		Palette: isotem
	TransformOnCapture:
		IntoActor: camach
	TooltipDescription:
		Description: Rebuild this wreck to enable self-healing for mechanical units.

catech01:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Communications Center
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 4c0
	Health:
		HP: 400000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
