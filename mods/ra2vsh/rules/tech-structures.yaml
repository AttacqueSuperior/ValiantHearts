caoild:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	Inherits@damagefire: ^BuildingDamageFire3
	Selectable:
		Bounds: 96, 104, -2, -26
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	EngineerRepairable:
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	CashTrickler:
		Interval: 150
		Amount: 20
		RequiresCondition: !ownerless
	Tooltip:
		Name: Tech Oil Derrick
	Health:
		HP: 1000000
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SpySat
		RevealGeneratedShroud: False
		Range: 4c0
	RevealOnDeath:
		Radius: 2c0
		DeathTypes: DefaultDeath
	WithIdleOverlay@pump:
		Sequence: idle-pump
		PauseOnCondition: ownerless
	WithIdleOverlay@flag:
		Sequence: flag
		Offset: 1000,0,0
	GrantPeriodicCondition@initialcash:
		CooldownDuration: 1
		ActiveDuration: 2000000000
		Condition: alreadycaptured
		RequiresCondition: !ownerless
	GivesCashOnCapture:
		Amount: 1000
		RequiresCondition: !alreadycaptured
	GpsDotAS:
		Sequence: oil
	SpawnActorOnDeath:
		Actor: caoild.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire3:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire3-heavy:
		RequiresCondition: dmg_crit
	UpdatesDerrickCount:
	Explodes@derrick:
		Weapon: OilDerrickExplosion
		EmptyWeapon: OilDerrickExplosion
		DeathTypes: DefaultDeath

caoild.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^2x2Shape
	Tooltip:
		Name: Tech Oil Derrick Wreck
	Building:
		Dimensions: 2,2
		Footprint: == ==
	RenderSprites:
		Image: caoild
	TransformOnCapture:
		IntoActor: caoild

caairp:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x3Shape
	Inherits@damagefire: ^BuildingDamageFire2
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Airport
	Health:
		HP: 800000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	ProvidesPrerequisite@Allies:
		Prerequisite: techparadrops.allies
		Factions: america, germany, england, france, korea
		ResetOnOwnerChange: true
	ProvidesPrerequisite@Soviets:
		Prerequisite: techparadrops.soviets
		Factions: cuba, libya, iraq, russia
		ResetOnOwnerChange: true
	ParatroopersPower@Allies:
		OrderName: AirborneInfoOrder
		Icon: airborne
		ChargeInterval: 9000
		Description: Airborne
		LongDesc: A Cargo Plane drops four GIs\nand 2 GGIs anywhere on the map.
		DropItems: ggi,ggi,e1,e1,e1,e1
		QuantizedFacings: 8
		UnitType: pdplane.allied
		CameraActor: camera
		Prerequisites: ~techparadrops.allies
		ArrowSequence: arrow
		AllowMultiple: true
	ParatroopersPower@Soviets:
		OrderName: ParadropInfoOrder
		Icon: paradrop
		ChargeInterval: 9000
		Description: Paradrop
		LongDesc: A Cargo Plane drops 5 Conscripts\nand 3 Flak Troopers anywhere on the map.
		DropItems: flakt,flakt,flakt,e2,e2,e2,e2,e2
		QuantizedFacings: 8
		UnitType: pdplane.soviet
		CameraActor: camera
		Prerequisites: ~techparadrops.soviets
		ArrowSequence: arrow
		AllowMultiple: true
	SupportPowerChargeBar:
	WithIdleOverlay@decoration:
	WithIdleOverlay@flag:
		Sequence: flag
	SpawnActorOnDeath:
		Actor: caairp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	ProductionAirdrop:
		Produces: TechAirport
		ActorType: pdplane.caairp
		Facing: 224
		ReadyAudio: ReinforcementsArrived
	Exit@1:
		ExitCell: 2,1
	RallyPoint:
		Offset: 3,1
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	CaptureManager:
		BeingCapturedCondition: being-captured
	PeriodicProducer:
		RequiresCondition: !ownerless && !being-captured
		ResetTraitOnEnable: true
		Type: TechAirport
		Actors: lasher
		ShowSelectionBar: true

caairp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Airport Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: caairp
	TransformOnCapture:
		IntoActor: caairp

cahosp:
	Inherits: ^TechBuilding
	Inherits@shape: ^6x4Shape
	Inherits@damagefire: ^BuildingDamageFire4
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Building:
		Footprint: xxxx xxxx xxxx xxxx xxxx xxxx
		Dimensions: 6, 4
	Tooltip:
		Name: Tech Hospital
	Health:
		HP: 800000
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SpySat
		RevealGeneratedShroud: False
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
		DeathTypes: DefaultDeath
	RallyPoint:
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	WithIdleOverlay:
		PauseOnCondition: ownerless
	WithIdleOverlay@flag:
		Sequence: flag
		Offset: 0,-500,2520
	GpsDotAS:
		Sequence: hospital
	SpawnActorOnDeath:
		Actor: cahosp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire3:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire3-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire4:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire4-heavy:
		RequiresCondition: dmg_crit
	ProvidesPrerequisite@hospital:
		Prerequisite: hospital
		RequiresCondition: !ownerless

cahosp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^6x4Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Hospital Wreck
	Building:
		Dimensions: 6,4
		Footprint: ==== ==== ==== ==== ==== ====
	RenderSprites:
		Image: cahosp
	TransformOnCapture:
		IntoActor: cahosp

cathosp:
	Inherits: cahosp
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Tooltip:
		Name: Tech Hospice
	SpawnActorOnDeath:
		Actor: cathosp.rubble
	-WithIdleOverlay@damagefire3:
	-WithIdleOverlay@damagefire3-heavy:
	-WithIdleOverlay@damagefire4:
	-WithIdleOverlay@damagefire4-heavy:

cathosp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Hospice Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: cathosp
		Palette: isotem
	TransformOnCapture:
		IntoActor: cathosp

caoutp:
	Inherits: ^TechBuilding
	Inherits@2: ^VoxelLighting
	Inherits@shape: ^4x3Shape
	Inherits@experience: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@damagefire: ^BuildingDamageFire2
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Selectable:
		Bounds: 178, 180, 0, -38
	Tooltip:
		Name: Tech Outpost
	Health:
		HP: 2000000
	Building:
		Dimensions: 4,3
		Footprint: xx== xx== xx==
	Reservable:
	RallyPoint:
	RepairsUnits:
		Interval: 50
		FinishRepairingNotification: UnitRepaired
		HpPerStep: 10000
	WithIdleOverlay@tower:
		Sequence: idle-tower
	WithIdleOverlay@tower-shadow:
		Sequence: idle-tower-shadow
	WithIdleOverlay@bib:
		Sequence: bib
	WithIdleOverlay@flag:
		Sequence: flag
	WithResupplyAnimation:
		Sequence: active-crane
	BodyOrientation:
		QuantizedFacings: 32
	WithVoxelTurret:
	WithRangeCircle:
		Range: 12c0
		Type: patriot
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		Offset: 700,-1000,1500
	AttackTurreted:
		Voice:
	Armament:
		Weapon: HoverMissile
		LocalOffset: 500,0,900
	SpawnActorOnDeath:
		Actor: caoutp.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire2:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire2-heavy:
		RequiresCondition: dmg_crit

caoutp.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^4x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Outpost Wreck
	Building:
		Dimensions: 4,3
		Footprint: ==== ==== ====
	RenderSprites:
		Image: caoutp
		Palette: isosnow
	TransformOnCapture:
		IntoActor: caoutp

caslab:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x3Shape
	Inherits@damagefire: ^BuildingDamageFire1
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Secret Lab
	Health:
		HP: 800000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	WithIdleOverlay@flag:
		Sequence: flag
	SpawnActorOnDeath:
		Actor: caslab.rubble
	SmokeParticleEmitter@smallsmoke:
		RequiresCondition: dmg_heavy
	SmokeParticleEmitter@largesmoke:
		RequiresCondition: dmg_crit
	WithIdleOverlay@damagefire1:
		RequiresCondition: dmg_heavy && !dmg_crit
	WithIdleOverlay@damagefire1-heavy:
		RequiresCondition: dmg_crit
	GrantConditionIfOwnerIsNeutral:
		Condition: ownerless
	ProductionParadropAS:
		Produces: SecretLab
		RequiresCondition: !disabled
		ActorType: pdplane.crate
		ReadyAudio: ReinforcementsArrived
		ChuteSound: sparadra.wav
	Exit:
	GrantRandomConditionOnProduction:
		Conditions: beholder, overlord, malfestor, howitzer
	PeriodicProducer@Beholder:
		Type: SecretLab
		Actors: behold
		ChargeDuration: 2250
		ShowSelectionBar: true
		RequiresCondition: beholder && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Beholder:
		Text: BEHOLDER
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: beholder
	PeriodicProducer@Overlord:
		Type: SecretLab
		Actors: ovrl
		ChargeDuration: 2625
		ShowSelectionBar: true
		RequiresCondition: overlord && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Overlord:
		Text: OVERLORD TANK
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: overlord
	PeriodicProducer@Malfestor:
		Type: SecretLab
		Actors: malf
		ChargeDuration: 2400
		ShowSelectionBar: true
		RequiresCondition: malfestor && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Malfestor:
		Text: MALFESTOR
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: malfestor
	PeriodicProducer@Howitzer:
		Type: SecretLab
		Actors: howi
		ChargeDuration: 1650
		ShowSelectionBar: true
		RequiresCondition: howitzer && !ownerless
		PauseOnCondition: disabled
	WithTextDecoration@Howitzer:
		Text: HOWITZER
		ReferencePoint: Center
		ZOffset: -512
		RequiresCondition: howitzer

caslab.rubble:
	Inherits: ^Rubble
	Inherits@shape: ^3x3Shape
	-Explodes@temporal:
	-SpawnSmokeParticleOnDeath@temporal:
	Tooltip:
		Name: Tech Secret Lab Wreck
	Building:
		Dimensions: 3,3
		Footprint: === === ===
	RenderSprites:
		Image: caslab
		Palette: isotem
	TransformOnCapture:
		IntoActor: caslab
