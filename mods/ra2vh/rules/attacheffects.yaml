^GainsExperience:
	GainsExperience:
		Conditions:
			500: rank-veteran
			1000: rank-elite
		LevelUpImage: crate-effects
	FirepowerMultiplier@VETERAN:
		RequiresCondition: rank-veteran && !rank-elite
		Modifier: 110
	FirepowerMultiplier@ELITE:
		RequiresCondition: rank-elite
		Modifier: 130
	DamageMultiplier@VETERAN:
		RequiresCondition: rank-veteran && !rank-elite
		Modifier: 90
	DamageMultiplier@ELITE:
		RequiresCondition: rank-elite
		Modifier: 75
	SpeedMultiplier@VETERAN:
		RequiresCondition: rank-veteran && !rank-elite
		Modifier: 120
	SpeedMultiplier@ELITE:
		RequiresCondition: rank-elite
		Modifier: 140
	ReloadDelayMultiplier@VETERAN:
		RequiresCondition: rank-veteran && !rank-elite
		Modifier: 90
	ReloadDelayMultiplier@ELITE:
		RequiresCondition: rank-elite
		Modifier: 75
	SelfHealing@ELITE:
		Step: 2000
		Delay: 100
		HealIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: rank-veteran && !rank-elite
	InaccuracyMultiplier@ELITE:
		RequiresCondition: rank-elite
		Modifier: 50
	WithDecoration@VETERAN:
		Image: rank
		Sequence: veteran
		Palette: pips
		ReferencePoint: Bottom, Right
		RequiresCondition: rank-veteran && !rank-elite
		ZOffset: 256
	WithDecoration@ELITE:
		Image: rank
		Sequence: elite
		Palette: pips
		ReferencePoint: Bottom, Right
		RequiresCondition: rank-elite
		ZOffset: 256

^BuildingParticles:
	SmokeParticleEmitter@1:
		RequiresCondition: dmg_heavy
		Sequences: smallsmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -32,-32,48, 32,32,48
		Offset: -384,-384,0, 384,384,0
		Duration: 39
	SmokeParticleEmitter@2:
		RequiresCondition: dmg_heavy
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@3:
		RequiresCondition: dmg_heavy
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@4:
		RequiresCondition: dmg_crit
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@5:
		RequiresCondition: dmg_crit
		Sequences: largesmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -48,-48,72, 48,48,72
		Offset: -384,-384,0, 384,384,0
		Duration: 39
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantConditionOnDamageState@dmg_crit:
		Condition: dmg_crit
		ValidDamageStates: Critical

^LargeBuildingDeathEffects:
	Explodes@deathsmokes:
		Weapon: BuildingDeathSmokeSpawner
		EmptyWeapon: BuildingDeathSmokeSpawner
		DeathTypes: DefaultDeath
	Explodes@flameguy:
		Weapon: BuildingDeathFlameGuySpawner
		EmptyWeapon: BuildingDeathFlameGuySpawner
		DeathTypes: DefaultDeath

 ^UnitParticles:
	SmokeParticleEmitter@1:
		RequiresCondition: enable_unitsmoke
		Sequences: smallsmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -32,-32,48, 32,32,48
		Offset: 0,0,192
		Duration: 39
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantPeriodicCondition@enable_unitsmoke:
		Condition: enable_unitsmoke
		CooldownDuration: 10000000
		StartsGranted: true
		RequiresCondition: dmg_heavy

 ^VehicleParticles:
	Inherits: ^UnitParticles
	ExplodeWeapon@damagesparks:
		RequiresCondition: dmg_heavy
		Weapon: DamageSparkSpawner
		LocalOffset: 0,0,384

^CrateStatModifiers:
	FirepowerMultiplier@CRATES:
		RequiresCondition: crate-firepower
		Modifier: 200
	DamageMultiplier@CRATES:
		RequiresCondition: crate-damage
		Modifier: 50
	SpeedMultiplier@CRATES:
		RequiresCondition: crate-speed
		Modifier: 170
	ExternalCondition@CRATE-FIREPOWER:
		Condition: crate-firepower
	ExternalCondition@CRATE-DAMAGE:
		Condition: crate-damage
	ExternalCondition@CRATE-SPEED:
		Condition: crate-speed

^IronCurtainable:
	WithColoredOverlay@ironcurtain:
		RequiresCondition: invulnerability
	DamageMultiplier@ironcurtain:
		RequiresCondition: invulnerability
		Modifier: 0
	TimedConditionBar:
		Condition: invulnerability
	ExternalCondition@INVULNERABILITY:
		Condition: invulnerability

^ChronoDisable:
	TimedConditionBar@ChronoDisable:
		Condition: chronodisable
		Color: FFFFFF
	Mobile:
		PauseOnCondition: !(!chronodisable)
	ExternalCondition@CHRONODISABLE:
		Condition: chronodisable

^MindControllable:
	MindControllable:
		Condition: controlled
	WithMindControlArc:
		UsePlayerColor: true
		Offset: 0,0,960
	Targetable@MC:
		TargetTypes: MindControl
		RequiresCondition: !controlled
	WithIdleOverlay@mindcontrol:
		Sequence: mindcontrol
		Palette: effect
		RequiresCondition: controlled

^IvanBombable:
	DelayedWeaponAttachable@ivanbomb:
		Type: ivanbomb
		Condition: ivanbomb
	Targetable@ivanbombed:
		TargetTypes: IvanBombed
		RequiresCondition: ivanbomb
	ExternalCondition@bombdetector:
		Condition: bombdetector
	WithIdleOverlay@ivanbomb:
		Sequence: ivanbomb
		Palette: mouse
		RequiresCondition: bombdetector && ivanbomb

^C4Plantable:
	DelayedWeaponAttachable@C4:
		Type: c4
		Condition: c4
	Targetable@c4:
		TargetTypes: C4Attached
		RequiresCondition: c4
	WithIdleOverlay@c4:
		Sequence: c4
		Palette: ts-mouse
		RequiresCondition: c4

^TanyaC4Plantable:
	DelayedWeaponAttachable@TanyaC4:
		Type: tanyac4
		Condition: tanyac4
	Targetable@tanyac4:
		TargetTypes: TanyaC4Attached
		RequiresCondition: tanyac4
	WithIdleOverlay@tanyac4:
		Sequence: tanyac4
		Palette: mouse
		RequiresCondition: tanyac4

^DamagedByRadiation:
	DamagedByTintedCells:
		Damage: 200
		DamageLevel: 1
		DamageTypes: RadiationDeath, DefaultDeath

^Cloneable:
	Cloneable:
		Types: infantry
	ProductionCostMultiplier@cloning:
		Multiplier: 150
		Prerequisites: naclon

^AffectedByIndustrialPlant:
	ProductionCostMultiplier@IndustrialPlant:
		Multiplier: 75
		Prerequisites: naindp

^Berserkable:
	ExternalCondition@berserk:
		Condition: berserk
	WithColoredOverlay@berserk:
		Palette: berserk
		RequiresCondition: berserk
	TimedConditionBar@berserk:
		Condition: berserk
		Color: FF5800
	Berserkable:
		RequiresCondition: berserk
	RejectsOrders@berserk:
		RequiresCondition: berserk
	Targetable@berserk:
		TargetTypes: Berserkable

^AffectedByEMP:
	WithColoredOverlay@emp:
		RequiresCondition: emp
		Palette: empdisable
	TimedConditionBar@emp:
		Condition: emp
		Color: 000080
	WithIdleOverlay@emp:
		Sequence: emp-overlay
		Palette: tsanim
		RequiresCondition: emp
	ExternalCondition@emp:
		Condition: emp
	GrantCondition@emp-disable:
		Condition: disabled
		RequiresCondition: emp