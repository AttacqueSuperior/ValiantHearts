^GainsExperience:
	GainsExperience:
		Conditions:
			500: rank-veteran
			1000: rank-elite
			1666: rank-heroic
		LevelUpImage: crate-effects
	FirepowerMultiplier@veteran:
		RequiresCondition: rank-veteran
		Modifier: 116
	FirepowerMultiplier@elite:
		RequiresCondition: rank-elite
		Modifier: 116
	FirepowerMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 116
	DamageMultiplier@veteran:
		RequiresCondition: rank-veteran
		Modifier: 88
	DamageMultiplier@elite:
		RequiresCondition: rank-elite
		Modifier: 88
	DamageMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 88
	SpeedMultiplier@veteran:
		RequiresCondition: rank-veteran
		Modifier: 116
	SpeedMultiplier@elite:
		RequiresCondition: rank-elite
		Modifier: 116
	SpeedMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 116
	ReloadDelayMultiplier@veteran:
		RequiresCondition: rank-veteran
		Modifier: 80
	ReloadDelayMultiplier@elite:
		RequiresCondition: rank-elite
		Modifier: 80
	ReloadDelayMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 80
	ReloadAmmoDelayMultiplier@veteran:
		RequiresCondition: rank-veteran
		Modifier: 80
	ReloadAmmoDelayMultiplier@elite:
		RequiresCondition: rank-elite
		Modifier: 80
	ReloadAmmoDelayMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 80
	SelfHealing@elite:
		Step: 0
		PercentageStep: 1
		Delay: 100
		HealIfBelow: 100
		DamageCooldown: 150
		RequiresCondition: rank-elite && !rank-heroic
	SelfHealing@heroic:
		Step: 0
		PercentageStep: 1
		Delay: 50
		HealIfBelow: 100
		DamageCooldown: 75
		RequiresCondition: rank-heroic
	GivesExperienceMultiplier@veteran:
		RequiresCondition: rank-veteran && !rank-elite
		Modifier: 250
	GivesExperienceMultiplier@elite:
		RequiresCondition: rank-elite && !rank-heroic
		Modifier: 500
	GivesExperienceMultiplier@heroic:
		RequiresCondition: rank-heroic
		Modifier: 888
	WithDecoration@veteran:
		Image: rank
		Sequence: veteran
		Palette: pips
		ReferencePoint: Bottom, Right
		RequiresCondition: rank-veteran && !rank-elite
		ZOffset: 256
	WithDecoration@elite:
		Image: rank
		Sequence: elite
		Palette: pips
		ReferencePoint: Bottom, Right
		RequiresCondition: rank-elite && !rank-heroic
		ZOffset: 256
	WithDecoration@heroic:
		Image: rank
		Sequence: heroic
		Palette: pips
		ReferencePoint: Bottom, Right
		RequiresCondition: rank-heroic
		ZOffset: 256

^AlliedVeteranRank:
	WithDecoration@veteran:
		Image: allied-rank
	WithDecoration@elite:
		Image: allied-rank
	WithDecoration@heroic:
		Image: allied-rank

^SovietVeteranRank:
	WithDecoration@veteran:
		Image: soviet-rank
	WithDecoration@elite:
		Image: soviet-rank
	WithDecoration@heroic:
		Image: soviet-rank

^BuildingParticles:
	SmokeParticleEmitter@1:
		RequiresCondition: dmg_heavy
		Sequences: smallsmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -32,-32,48, 32,32,48
		Offset: -384,-384,0, 384,384,0
		Duration: 39
	SmokeParticleEmitter@2:
		RequiresCondition: dmg_heavy
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@3:
		RequiresCondition: dmg_heavy
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@4:
		RequiresCondition: dmg_crit
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Gravity: 0,0,0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
	SmokeParticleEmitter@5:
		RequiresCondition: dmg_crit
		Sequences: largesmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -48,-48,72, 48,48,72
		Offset: -384,-384,0, 384,384,0
		Duration: 39
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantConditionOnDamageState@dmg_crit:
		Condition: dmg_crit
		ValidDamageStates: Critical

^LargeBuildingDeathEffects:
	Explodes@deathsmokes:
		Weapon: BuildingDeathSmokeSpawner
		EmptyWeapon: BuildingDeathSmokeSpawner
		DeathTypes: DefaultDeath
	Explodes@flameguy:
		Weapon: BuildingDeathFlameGuySpawner
		EmptyWeapon: BuildingDeathFlameGuySpawner
		DeathTypes: DefaultDeath

^UnitParticles:
	SmokeParticleEmitter@1:
		RequiresCondition: enable_unitsmoke
		Sequences: smallsmoke
		Palette: tsanim
		SpawnFrequency: 3, 10
		Gravity: -32,-32,48, 32,32,48
		Offset: 0,0,192
		Duration: 39
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantPeriodicCondition@enable_unitsmoke:
		Condition: enable_unitsmoke
		CooldownDuration: 10000000
		StartsGranted: true
		RequiresCondition: dmg_heavy

^VehicleParticles:
	Inherits: ^UnitParticles
	ExplodeWeapon@damagesparks:
		RequiresCondition: dmg_heavy
		Weapon: DamageSparkSpawner
		LocalOffset: 0,0,384

^CrateStatModifiers:
	FirepowerMultiplier@CRATES:
		RequiresCondition: crate-firepower
		Modifier: 150
	DamageMultiplier@CRATES:
		RequiresCondition: crate-damage
		Modifier: 75
	SpeedMultiplier@CRATES:
		RequiresCondition: crate-speed
		Modifier: 150
	ExternalCondition@CRATE-FIREPOWER:
		Condition: crate-firepower
	ExternalCondition@CRATE-DAMAGE:
		Condition: crate-damage
	ExternalCondition@CRATE-SPEED:
		Condition: crate-speed

^Parachutable:
	WithSpriteBody@Parachute:
		Name: parachute
		Sequence: paradrop
		RequiresCondition: parachute
	Parachutable:
		FallRate: 26
		KilledOnImpassableTerrain: true
		GroundCorpseSequence:
		GroundCorpsePalette:
		WaterCorpseSequence:
		WaterCorpsePalette:
		ParachutingCondition: parachute
	WithParachute:
		RequiresCondition: parachute
		Image: parach
		OpeningSequence: open
		Sequence: idle
		ClosingSequence: close
	WithInfantryBody:
		RequiresCondition: !parachute
	GrantCondition@parachute-disabled:
		Condition: disabled
		RequiresCondition: parachute

^ParachutableVehicle:
	Parachutable:
		FallRate: 26
		KilledOnImpassableTerrain: true
		GroundCorpseSequence:
		GroundCorpsePalette:
		WaterCorpseSequence:
		WaterCorpsePalette:
		ParachutingCondition: parachute
	WithParachute:
		RequiresCondition: parachute
		Image: parach
		OpeningSequence: open
		Sequence: idle
		ClosingSequence: close
	GrantCondition@parachute-disabled:
		Condition: disabled
		RequiresCondition: parachute

^AlliedParachute:
	WithParachute:
		Image: aparach

^SovietParachute:
	WithParachute:
		Image: sparach

^WithSwimSuit:
	WithInfantryBody:
		RequiresCondition: !swimming && !parachute
	WithDeathAnimation@normal:
		RequiresCondition: !swimming && !inair
	GrantConditionOnTerrain@Water:
		TerrainTypes: Water
		Condition: swimming
	WithInfantryBody@Water:
		IdleSequences: swim-idle1,swim-idle2
		MoveSequence: swim-run
		StandSequences: swim-stand
		DefaultAttackSequence: swim-shoot
		RequiresCondition: swimming
	WithDeathAnimation@Water:
		RequiresCondition: swimming
		DeathSequence: swim-die
		DeathTypes:
			BulletDeath: 1
			AltBulletDeath: 2
	Targetable@WaterBorne:
		TargetTypes: Underwater
		RequiresCondition: swimming && !prevent-ground-target

^IronCurtainable:
	WithColoredOverlay@ironcurtain:
		RequiresCondition: invulnerability
	DamageMultiplier@ironcurtain:
		RequiresCondition: invulnerability
		Modifier: 0
	TimedConditionBar:
		Condition: invulnerability
	ExternalCondition@INVULNERABILITY:
		Condition: invulnerability

^Warpable:
	Warpable:
		Condition: being-warped
		RevokeDelay: 3
		DamageTypes: TemporalDeath
		ScaleWithCurrentHealthPercentage: true
	Targetable@Temporal:
		TargetTypes: Temporal
	WithColoredOverlay@temporal:
		RequiresCondition: being-warped
		Palette: temporal
	Explodes@temporal:
		Weapon: TemporalExplode
		EmptyWeapon: TemporalExplode
		DeathTypes: TemporalDeath
	SpawnSmokeParticleOnDeath@temporal:
		Amount: 2, 6
		DeathTypes: TemporalDeath
		Sequences: warpspark
		Palette: heroicraexp
		Duration: 66
		Gravity: -64,-64,0, 64,64,0
	GrantCondition@warp-disable:
		Condition: disabled
		RequiresCondition: being-warped

^MindControllable:
	MindControllable:
		Condition: controlled
	WithMindControlArc:
		UsePlayerColor: true
		Offset: 0,0,960
	Targetable@MC:
		TargetTypes: MindControl
		RequiresCondition: !controlled && !prevent-ground-target
	WithIdleOverlay@mindcontrol:
		Sequence: mindcontrol
		Palette: effect
		RequiresCondition: controlled && !permanent-mindcontrol
	ExternalCondition@permanent-mindcontrol:
		Condition: permanent-mindcontrol
	GrantCondition@permanent-mindcontrol:
		Condition: controlled
		RequiresCondition: permanent-mindcontrol
	Targetable@PermaMC:
		TargetTypes: PermanentMindControl
		RequiresCondition: !permanent-mindcontrol && !prevent-ground-target
	WithIdleOverlay@permanent-mindcontrol:
		Sequence: permanent-mindcontrol
		Palette: effect
		RequiresCondition: permanent-mindcontrol

^IvanBombable:
	DelayedWeaponAttachable@ivanbomb:
		Type: ivanbomb
		Condition: ivanbomb
	Targetable@ivanbombed:
		TargetTypes: IvanBombed
		RequiresCondition: ivanbomb
	ExternalCondition@bombdetector:
		Condition: bombdetector
	WithIdleOverlay@ivanbomb:
		Sequence: ivanbomb
		Palette: mouse
		RequiresCondition: bombdetector && ivanbomb

^C4Plantable:
	DelayedWeaponAttachable@C4:
		Type: c4
		Condition: c4
	Targetable@c4:
		TargetTypes: C4Attached
		RequiresCondition: c4
	WithIdleOverlay@c4:
		Sequence: c4
		Palette: ts-mouse
		RequiresCondition: c4

^TanyaC4Plantable:
	DelayedWeaponAttachable@TanyaC4:
		Type: tanyac4
		Condition: tanyac4
	Targetable@tanyac4:
		TargetTypes: TanyaC4Attached
		RequiresCondition: tanyac4
	WithIdleOverlay@tanyac4:
		Sequence: tanyac4
		Palette: mouse
		RequiresCondition: tanyac4

^DamagedByRadiation:
	DamagedByTintedCells:
		Damage: 200
		DamageLevel: 1
		DamageTypes: RadiationDeath, DefaultDeath
		RequiresCondition: !prevent-ground-target

^Cloneable:
	Cloneable:
		Types: infantry
	ProductionCostMultiplier@cloning:
		Multiplier: 150
		Prerequisites: naclon

^AffectedByIndustrialPlant:
	ProductionCostMultiplier@IndustrialPlant:
		Multiplier: 75
		Prerequisites: naindp

^Berserkable:
	ExternalCondition@berserk:
		Condition: berserk
	WithColoredOverlay@berserk:
		Palette: berserk
		RequiresCondition: berserk
	TimedConditionBar@berserk:
		Condition: berserk
		Color: FF5800
	Berserkable:
		RequiresCondition: berserk
	RejectsOrders@berserk:
		RequiresCondition: berserk
	Targetable@berserk:
		TargetTypes: Berserkable
		RequiresCondition: !prevent-ground-target

^AffectedByEMP:
	WithColoredOverlay@emp:
		RequiresCondition: emp
		Palette: empdisable
	TimedConditionBar@emp:
		Condition: emp
		Color: 000080
	WithIdleOverlay@emp:
		Sequence: emp-overlay
		Palette: tsanim
		RequiresCondition: emp
	ExternalCondition@emp:
		Condition: emp
	GrantCondition@emp-disable:
		Condition: disabled
		RequiresCondition: emp

^DisableOnLowPower:
	WithColoredOverlay@lowpower:
		RequiresCondition: lowpower
		Palette: lowpower
	GrantConditionOnPowerState@lowpower:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	GrantCondition@lowpower-disable:
		RequiresCondition: lowpower
		Condition: disabled

^DisableOnLowPowerOrPowerDown:
	Inherits: ^DisableOnLowPower
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
	WithDecoration@powerdown:
		Image: poweroff
		Sequence: offline
		Palette: ts-mouse
		RequiresCondition: powerdown
		ReferencePoint: Center
	WithColoredOverlay@powerdown:
		RequiresCondition: powerdown
		Palette: lowpower
	GrantCondition@powerdown-disable:
		RequiresCondition: powerdown
		Condition: lowpower

^AffectedByTanyaMorale:
	FirepowerMultiplier@tanya:
		RequiresCondition: tanyabonus
		Modifier: 125
	ExternalCondition@tanya:
		Condition: tanyabonus

^BeholderRangeBonus:
	ExternalCondition@beholder:
		Condition: beholder
	RangeMultiplier@beholder:
		RequiresCondition: beholder
		Modifier: 125

^CraneRepair:
	ExternalCondition@crane:
		Condition: crane
	SelfHealing@crane:
		Step: 0
		PercentageStep: 1
		Delay: 75
		HealIfBelow: 100
		DamageCooldown: 150
		RequiresCondition: crane

^AffectedByHilbertEffect:
	ExternalCondition@hilberteffect:
		Condition: hilberteffect
		SourceCap: 1
	GrantCondition@hilberteffect-disable:
		RequiresCondition: hilberteffect
		Condition: disabled
	DamageMultiplier@hilberteffect:
		RequiresCondition: hilberteffect
		Modifier: 150
	WithColoredOverlay@hilberteffect:
		RequiresCondition: hilberteffect
		Palette: hilberteffect
	TimedConditionBar@hilberteffect:
		Condition: hilberteffect
